<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Products - SHOP.CO</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    /* product page scoped tweaks */
    .page-hero { background:#F2F0F1; padding:16px 0; }
    .breadcrumb { color:rgba(0,0,0,0.6); font-size:14px; }

    .products-wrap { display:grid; grid-template-columns:280px 1fr; gap:24px; margin:24px 0 40px; }

    .filters { background:#fff; border:1px solid rgba(0,0,0,0.08); border-radius:16px; padding:16px; position:sticky; top:100px; height:max-content; }
    .filters h4 { font-size:16px; margin:12px 0; }
    .filter-group { border-top:1px solid rgba(0,0,0,0.08); padding:12px 0 0; margin-top:12px; }
    .filter-list { list-style:none; padding:0; margin:0; }
    .filter-item { display:flex; justify-content:space-between; align-items:center; padding:10px 8px; border-radius:10px; cursor:pointer; }
    .filter-item:hover { background:#F7F7F7; }
    .filter-item.active { background:#000; color:#fff; }
    .chevron { width:16px; height:16px; opacity:.6; }
    .colors { display:flex; gap:10px; flex-wrap:wrap; }
    .swatch { width:22px; height:22px; border-radius:50%; border:1px solid rgba(0,0,0,0.15); cursor:pointer; }
    .range-wrap { position:relative; height:24px; margin:10px 0 4px; }
    .range { -webkit-appearance:none; appearance:none; width:100%; height:4px; background:#000; outline:none; position:absolute; top:10px; }
    .range::-webkit-slider-thumb { -webkit-appearance:none; appearance:none; width:16px; height:16px; background:#000; border-radius:50%; cursor:pointer; border:2px solid #fff; box-shadow:0 0 0 1px rgba(0,0,0,0.15); }
    .labels { display:flex; justify-content:space-between; font-size:14px; color:rgba(0,0,0,0.8); }
    .filters .actions { margin-top:16px; }
    .btn-reset { width:100%; background:#000; color:#fff; border:none; border-radius:999px; padding:12px 16px; font-weight:600; }

    .list-head { display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
    .sort { border:1px solid rgba(0,0,0,0.15); border-radius:8px; padding:8px 10px; }
    .grid { display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:24px; }
    .card { background:#fff; border:1px solid rgba(0,0,0,0.08); border-radius:16px; overflow:hidden; transition:box-shadow .2s ease, transform .2s ease; }
    .card:hover { box-shadow:0 8px 24px rgba(0,0,0,0.08); transform:translateY(-2px); }
    .img-wrap { background:#F2F0F1; border-radius:16px; padding:0; height:280px; display:flex; align-items:center; justify-content:center; overflow:hidden; }
    .card img { width:100%; height:100%; object-fit:cover; display:block; border-radius:12px; }
    .card .body { padding:14px; }
    .card h5 { font-size:15px; margin:6px 0 8px; font-weight:600; line-height:1.3; }
    .rating { display:flex; align-items:center; gap:6px; margin:6px 0 8px; }
    .stars { color:#FFC107; font-size:14px; letter-spacing:1px; }
    .rating .muted{ color:rgba(0,0,0,0.6); font-size:12px; }
    .price { display:flex; align-items:center; gap:10px; }
    .price strong { font-size:16px; }
    .price .old { color:rgba(0,0,0,0.5); text-decoration:line-through; }
    .badge { background:#FDECEF; color:#D00; border-radius:999px; padding:2px 8px; font-size:12px; }
    .pagination { display:flex; gap:8px; justify-content:center; margin:24px 0; }
    .pagination .page { border:1px solid rgba(0,0,0,0.15); padding:8px 12px; border-radius:8px; cursor:pointer; }
    .pagination .active { background:#000; color:#fff; border-color:#000; }

    /* Mobile filter toggle bar */
    .mobile-filter-bar{ display:none; align-items:center; gap:12px; margin:12px 0; }
    .filter-toggle{ display:inline-flex; align-items:center; gap:8px; border:1px solid rgba(0,0,0,0.15); border-radius:999px; padding:8px 12px; background:#fff; cursor:pointer; font-weight:600; }
    .filter-toggle svg{ width:18px; height:18px; }

    /* Product Page Responsive */
    @media (max-width: 1024px) {
        .products-wrap {
            grid-template-columns: 240px 1fr;
            gap: 20px;
            margin: 20px 0 32px;
        }
        
        .filters {
            padding: 12px;
        }
        
        .filters h4 {
            font-size: 14px;
        }
        
        .filter-item {
            padding: 8px 6px;
            font-size: 14px;
        }
        
        .grid {
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }
        
        .img-wrap { height: 240px; padding:0; }
        
        .card h5 {
            font-size: 15px;
        }
        
        .price strong {
            font-size: 15px;
        }
    }
    
    @media (max-width: 768px) {
        .page-hero {
            padding: 12px 0;
        }
        
        .breadcrumb {
            font-size: 13px;
            margin-top: 15px;
        }
        
        .products-wrap { grid-template-columns: 1fr; gap: 16px; margin: 16px 0 24px; }
        
        .mobile-filter-bar{ display:flex; }
        /* turn filters into a drawer */
        .filters{ display:none; position: fixed; inset: 80px 0 0 0; padding:16px; margin:0; background:#fff; z-index:1003; overflow:auto; border-radius:16px 16px 0 0; box-shadow:0 -8px 24px rgba(0,0,0,0.12); }
        .filters.open{ display:block; }
        .filters .close-row{ display:flex; align-items:center; justify-content:space-between; margin:-4px 0 8px; }
        .filters .btn-close{ border:1px solid rgba(0,0,0,0.15); background:#fff; border-radius:8px; padding:6px 10px; cursor:pointer; }
        
        .filters h4 {
            font-size: 16px;
        }
        
        .filter-item {
            padding: 10px 8px;
            font-size: 15px;
        }
        
        .grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }
        
        .img-wrap { height: 200px; padding:0; }
        
        .card .body {
            padding: 12px;
        }
        
        .card h5 {
            font-size: 14px;
        }
        
        .rating {
            font-size: 13px;
        }
        
        .price strong {
            font-size: 14px;
        }
        
        .list-head {
            flex-direction: column;
            gap: 12px;
            align-items: stretch;
        }
        
        .sort {
            width: 100%;
        }
    }
    /* Desktop overrides: keep sidebar static and hide mobile-only close row */
    @media (min-width: 769px) {
      .filters { position: sticky; top: 100px; display: block !important; box-shadow: none; border-radius:16px; }
      .filters.open { display: block !important; }
      .filters .close-row { display: none !important; }
    }
    
    @media (max-width: 480px) {
        .grid {
            grid-template-columns: 1fr;
            gap: 12px;
        }
        
        .img-wrap { height: 180px; padding:0; }
        
        .filters {
            padding: 12px;
        }
        
        .filter-item {
            padding: 8px 6px;
            font-size: 14px;
        }
    }
    /* Small phones: vẫn hiển thị 2 cột như hình yêu cầu */
    @media (max-width: 520px){
      .grid{ grid-template-columns: repeat(2, 1fr); gap: 12px; }
      .img-wrap{ height: 170px; }
      .card h5{ font-size: 13px; }
      .price strong{ font-size: 15px; }
      
      /* Breadcrumb Navigation */
      .breadcrumb{padding:8px 0;margin-top:12px}
      .breadcrumb-nav{font-size:12px}
    }
    
    /* Breadcrumb Navigation */
    .breadcrumb{background:#fff;border-bottom:1px solid rgba(0,0,0,.08);padding:12px 0;margin-top:20px}
    .breadcrumb-nav{display:flex;align-items:center;gap:8px;font-size:14px}
    .breadcrumb-link{color:#000;text-decoration:none;font-weight:500}
    .breadcrumb-link:hover{text-decoration:underline}
    .breadcrumb-separator{color:rgba(0,0,0,.6);margin:0 4px}
    .breadcrumb-current{color:rgba(0,0,0,.6);font-weight:500}
  </style>
</head>
<body>
  <!-- Top Banner -->


  <nav class="navbar">
    <div class="nav-container">
      <div class="mobile-menu-toggle">
        <span class="hamburger" onclick="toggleMobileMenu()">☰</span>
        <div class="logo"><h1><a href="index.html" style="text-decoration:none;color:inherit;">SHOP.CO</a></h1></div>
        <div class="mobile-icons">
          <button class="icon-btn" aria-label="Search" onclick="toggleMobileSearch()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><circle cx="11" cy="11" r="7" stroke="#000" stroke-width="1.6"/><path d="M20 20L17 17" stroke="#000" stroke-width="1.6" stroke-linecap="round"/></svg>
          </button>
          <button class="icon-btn" aria-label="Cart" onclick="location.href='cart.html'">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M6 6H21L19.2 14.4C19.0824 14.984 18.7846 15.5131 18.352 15.9048C17.9194 16.2966 17.3778 16.5302 16.8 16.57L9 17.1" stroke="#000" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><path d="M6 6L5 3H3" stroke="#000" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><circle cx="9" cy="20" r="1.6" fill="#000"/><circle cx="17" cy="20" r="1.6" fill="#000"/></svg>
          </button>
          <button class="icon-btn" aria-label="Account">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><circle cx="12" cy="8" r="4" stroke="#000" stroke-width="1.6"/><path d="M4 20C5.6 16.6667 8.13333 15 12 15C15.8667 15 18.4 16.6667 20 20" stroke="#000" stroke-width="1.6" stroke-linecap="round"/></svg>
          </button>
        </div>
      </div>
      <div class="mobile-search" id="mobileSearch">
        <div class="search-container">
          <input type="text" placeholder="Search for products..." class="search-input" aria-label="Search for products">
        </div>
      </div>
      <div class="nav-menu" id="navMenu">
        <div class="logo desktop-logo"><h1><a href="index.html" style="text-decoration:none;color:inherit;">SHOP.CO</a></h1></div>
        <ul class="nav-links">
          <li><a href="product.html">Product</a></li>
          <li><a href="#top-selling" onclick="scrollToSection('top-selling')">On Sale</a></li>
          <li><a href="#new-arrivals" onclick="scrollToSection('new-arrivals')">New Arrivals</a></li>
          <li><a href="#brands" onclick="scrollToSection('brands')">Brands</a></li>
        </ul>
        <div class="nav-right">
          <div class="search-container">
            <input type="text" placeholder="Search for products..." class="search-input" aria-label="Search for products" id="searchInput">
          </div>
          <div class="nav-icons">
            <button class="icon-btn" aria-label="Cart" onclick="location.href='cart.html'">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M6 6H21L19.2 14.4C19.0824 14.984 18.7846 15.5131 18.352 15.9048C17.9194 16.2966 17.3778 16.5302 16.8 16.57L9 17.1" stroke="#000" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M6 6L5 3H3" stroke="#000" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                <circle cx="9" cy="20" r="1.6" fill="#000"/>
                <circle cx="17" cy="20" r="1.6" fill="#000"/>
              </svg>
              <span class="cart-count" id="cartCount">0</span>
            </button>
            <button class="icon-btn" aria-label="Account">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <circle cx="12" cy="8" r="4" stroke="#000" stroke-width="1.6"/>
                <path d="M4 20C5.6 16.6667 8.13333 15 12 15C15.8667 15 18.4 16.6667 20 20" stroke="#000" stroke-width="1.6" stroke-linecap="round"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- Breadcrumb Navigation -->
  <div class="breadcrumb">
    <div class="container">
      <nav class="breadcrumb-nav">
        <a href="index.html" class="breadcrumb-link">Home</a>
        <span class="breadcrumb-separator">></span>
        <span class="breadcrumb-current">Products</span>
      </nav>
    </div>
  </div>

  <div class="page-hero">
    <div class="container">
      <!-- Breadcrumb moved above -->
    </div>
  </div>

  <main class="container">
    <div class="mobile-filter-bar">
      <button class="filter-toggle" id="filterToggle" aria-label="Open filters">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 6h16M7 12h10M10 18h4" stroke="#000" stroke-width="2" stroke-linecap="round"/></svg>
        Filters
      </button>
    </div>
    <div class="products-wrap">
      <aside class="filters" id="filters">
        <div class="close-row" style="display:none"></div>
        <div class="filter-header" style="display:flex;justify-content:space-between;align-items:center;">
          <h3 style="margin:0;font-size:18px;">Filters</h3>
        </div>

        <div class="filter-group">
          <ul class="filter-list" id="categoryList"></ul>
        </div>

        <div class="filter-group">
          <h4>Price</h4>
          <div class="range-wrap">
            <input type="range" min="0" max="500" value="0" id="rangeMin" class="range" aria-label="Minimum price">
            <input type="range" min="0" max="500" value="500" id="rangeMax" class="range" aria-label="Maximum price">
          </div>
          <div class="labels"><span id="minLabel">$0</span><span id="maxLabel">$500</span></div>
        </div>

        <div class="filter-group">
          <h4>Colors</h4>
          <div class="colors" id="colorSwatches"></div>
        </div>

        <div class="actions"><button class="btn-reset" id="resetBtn2">Reset Filter</button></div>
      </aside>

      <section>
        <div class="list-head">
          <h2 style="margin:0;">All Products</h2>
          <div style="display:flex; align-items:center; gap:14px; color:rgba(0,0,0,0.6);">
            <span id="countLabel"></span>
            <select class="sort" id="sortSelect" aria-label="Sort products">
            <option value="newest">Newest</option>
            <option value="popular">Most Popular</option>
            <option value="price_desc">Highest Price</option>
            <option value="price_asc">Lowest Price</option>
            </select>
          </div>
        </div>
        <div class="grid" id="productGrid"></div>
        <div class="pagination" id="pagination"></div>
      </section>
    </div>
  </main>

  <section class="newsletter">
    <div class="container">
      <div class="newsletter-card">
        <h3 class="newsletter-title">STAY UPTO DATE ABOUT OUR LATEST OFFERS</h3>
        <form class="newsletter-form" onsubmit="event.preventDefault(); showNotification('Subscribed successfully!');">
          <div class="input-wrap">
            <input type="email" class="newsletter-input" placeholder="Enter your email address" aria-label="Email address" required>
          </div>
          <button type="submit" class="newsletter-btn">Subscribe to Newsletter</button>
        </form>
      </div>
    </div>
  </section>

  <div id="footer"></div>

  <script src="script.js"></script>
  <script>
    // ---------- Mock catalog ----------
    const CATEGORIES = ['T-Shirt','Trousers'];
    const COLORS = ['#000000','#ffffff','#e74c3c','#3498db','#2ecc71','#f1c40f'];
    const CATALOG = [
      { name:'T‑shirt With Tape Details', img:'shopco-web-master/src/assets/images/newarrivalimg1.png', category:'T-Shirt', price:120, oldPrice:null, color:'#000000' },
      { name:'Skinny Fit Jeans', img:'shopco-web-master/src/assets/images/newarrivalimg2.png', category:'Trousers', price:240, oldPrice:260, color:'#2ecc71' },
      { name:'Checkered Shirt', img:'shopco-web-master/src/assets/images/newarrivalimg3.png', category:'T-Shirt', price:180, oldPrice:null, color:'#3498db' },
      { name:'Sleeve Striped T‑shirt', img:'shopco-web-master/src/assets/images/newarrivalimg4.png', category:'T-Shirt', price:130, oldPrice:160, color:'#f1c40f' },
      { name:'Vertical Striped Shirt', img:'shopco-web-master/src/assets/images/topsellingimg1.png', category:'T-Shirt', price:186, oldPrice:232, color:'#000000' },
      { name:'Courage Graphic T‑shirt', img:'shopco-web-master/src/assets/images/topsellingimg2.png', category:'T-Shirt', price:145, oldPrice:null, color:'#e74c3c' },
      { name:'Loose Fit Bermuda Shorts', img:'shopco-web-master/src/assets/images/topsellingimg3.png', category:'Trousers', price:80, oldPrice:null, color:'#ffffff' },
      { name:'Faded Skinny Jeans', img:'shopco-web-master/src/assets/images/topsellingimg4.png', category:'Trousers', price:210, oldPrice:null, color:'#3498db' }
    ];
    const PRODUCTS = Array.from({length:36}).map((_,i)=>{
      const base = CATALOG[i%CATALOG.length];
      return { id:i+1, ...base };
    });

    // ---------- UI refs ----------
    const grid = document.getElementById('productGrid');
    const pagination = document.getElementById('pagination');
    const sortSelect = document.getElementById('sortSelect');
    const categoryList = document.getElementById('categoryList');
    const colorSwatches = document.getElementById('colorSwatches');
  // removed old inputs
    const searchInput = document.getElementById('searchInput');

    let state = { page:1, perPage:8, category:null, color:null, min:0, max:500, sort:'newest', search:'' };

    // Build filters
    CATEGORIES.forEach(cat=>{
      const li = document.createElement('li');
      li.className='filter-item';
      li.innerHTML = `<span>${cat}</span><span class="chevron">›</span>`;
      li.onclick = ()=>{ state.category = state.category===cat? null : cat; updateCategoryList(); render(); };
      categoryList.appendChild(li);
    });
    function updateCategoryList(){
      [...categoryList.children].forEach(li=>{
        li.classList.toggle('active', li.firstChild.textContent===state.category);
      });
    }

    COLORS.forEach(col=>{
      const el = document.createElement('div');
      el.className = 'swatch'; el.style.background = col;
      el.title = col;
      el.onclick = ()=>{ state.color = state.color===col? null : col; updateSwatches(); render(); };
      colorSwatches.appendChild(el);
    });
    function updateSwatches(){
      [...colorSwatches.children].forEach((el,idx)=>{
        el.style.outline = COLORS[idx]===state.color? '2px solid #000' : 'none';
      })
    }

    const rangeMin=document.getElementById('rangeMin');
    const rangeMax=document.getElementById('rangeMax');
    function clampRanges(){
      if(+rangeMin.value>+rangeMax.value){ const t=rangeMin.value; rangeMin.value=rangeMax.value; rangeMax.value=t; }
      document.getElementById('minLabel').textContent = `$${rangeMin.value}`;
      document.getElementById('maxLabel').textContent = `$${rangeMax.value}`;
    }
    rangeMin.oninput = ()=>{ clampRanges(); state.min = +rangeMin.value; state.page=1; render(); };
    rangeMax.oninput = ()=>{ clampRanges(); state.max = +rangeMax.value; state.page=1; render(); };
    document.getElementById('resetBtn2').onclick = ()=>{ state={ page:1, perPage:8, category:null, color:null, min:0, max:500, sort:'newest', search:'' }; searchInput.value=''; updateCategoryList(); updateSwatches(); rangeMin.value=0; rangeMax.value=500; render(); };
    sortSelect.onchange = ()=>{ state.sort = sortSelect.value; render(); };
    searchInput.oninput = ()=>{ state.search = searchInput.value.trim().toLowerCase(); state.page=1; render(); };

    function applySort(arr){
      const a=[...arr];
      switch(state.sort){
        case 'price_desc': return a.sort((x,y)=>y.price-x.price);
        case 'price_asc': return a.sort((x,y)=>x.price-y.price);
        case 'popular': return a; // placeholder
        default: return a; // newest – mock order
      }
    }

    function render(){
      let data = PRODUCTS.filter(p=>
        (state.category? p.category===state.category : true) &&
        (state.color? p.color===state.color : true) &&
        p.price>=state.min && p.price<=state.max &&
        (state.search? p.name.toLowerCase().includes(state.search):true)
      );
      data = applySort(data);
      const total = data.length; const pages = Math.max(1, Math.ceil(total/state.perPage));
      if(state.page>pages) state.page = pages;
      const start = (state.page-1)*state.perPage; const pageData = data.slice(start, start+state.perPage);

      document.getElementById('countLabel').textContent = `${total} Products`;
      grid.innerHTML = pageData.map(p=>`
        <a href="product-detail.html?id=${p.id}" class="card" style="display:block;text-decoration:none;color:inherit">
          <div class="img-wrap"><img src="${p.img}" alt="${p.name}"></div>
          <div class="body">
            <h5>${p.name}</h5>
            <div class="rating"><span class="stars">★★★☆☆</span><span class="muted">3.9/5</span></div>
            <div class="price">
              <strong>$${p.price}</strong>
              ${p.oldPrice? `<span class='old'>$${p.oldPrice}</span><span class='badge'>-${Math.min(80, Math.floor(100-(p.price/p.oldPrice*100)))}%</span>`:''}
            </div>
          </div>
        </a>
      `).join('');

      // pagination
      pagination.innerHTML = '';
      const prev = document.createElement('button'); prev.className='page'; prev.textContent='Previous'; prev.disabled = state.page===1; prev.onclick=()=>{ if(state.page>1){ state.page--; render(); } };
      pagination.appendChild(prev);
      for(let i=1;i<=pages;i++){
        const b=document.createElement('button'); b.className='page'+(i===state.page?' active':''); b.textContent=i; b.onclick=()=>{ state.page=i; render(); };
        pagination.appendChild(b);
      }
      const next = document.createElement('button'); next.className='page'; next.textContent='Next'; next.disabled = state.page===pages; next.onclick=()=>{ if(state.page<pages){ state.page++; render(); } };
      pagination.appendChild(next);
    }

  // Mobile filter drawer
  const drawer = document.getElementById('filters');
  const toggleBtn = document.getElementById('filterToggle');
  if(toggleBtn){ toggleBtn.onclick = ()=>{ drawer.classList.add('open'); }; }
  // add a close button only on mobile
  const closeRow = drawer.querySelector('.close-row');
  if(closeRow){
    closeRow.style.display = 'flex';
    closeRow.innerHTML = '<div style="font-weight:700;">Filters</div><button class="btn-close" id="filterClose">Close</button>';
    document.getElementById('filterClose').onclick = ()=> drawer.classList.remove('open');
  }

  // init
  updateCategoryList(); updateSwatches();
  // ensure min/max synced with slider values on first load
  const rangeMinInit=document.getElementById('rangeMin');
  const rangeMaxInit=document.getElementById('rangeMax');
  state.min = +rangeMinInit.value; state.max = +rangeMaxInit.value; clampRanges();
  render(); loadFooter();
  </script>
</body>
</html>

